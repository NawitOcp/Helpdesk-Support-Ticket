async function changeTicketStatuses() {
  // à¸”à¸¶à¸‡ tickets à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
  const response = await fetch('/api/tickets?limit=100');
  const data = await response.json();
  const tickets = data.data || [];
  
  console.log(`ğŸ“‹ Found ${tickets.length} tickets`);
  console.log('ğŸ”„ Changing some statuses...\n');

  let changed = 0;

  for (let i = 0; i < tickets.length; i++) {
    const ticket = tickets[i];
    
    // à¸‚à¹‰à¸²à¸¡ ticket à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¹ƒà¸Šà¹ˆ pending
    if (ticket.status !== 'pending') continue;

    let newStatus;
    
    // à¸ªà¸¸à¹ˆà¸¡ status: 40% accepted, 30% resolved, 20% rejected, 10% pending (à¹„à¸¡à¹ˆà¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™)
    const rand = Math.random();
    if (rand < 0.4) {
      newStatus = 'accepted';
    } else if (rand < 0.7) {
      newStatus = 'resolved';
    } else if (rand < 0.9) {
      newStatus = 'rejected';
    } else {
      continue; // à¹€à¸à¹‡à¸šà¹€à¸›à¹‡à¸™ pending
    }

    try {
      // à¸–à¹‰à¸²à¹€à¸›à¹‡à¸™ resolved à¸•à¹‰à¸­à¸‡à¹„à¸›à¸—à¸µà¹ˆ accepted à¸à¹ˆà¸­à¸™
      if (newStatus === 'resolved') {
        await fetch(`/api/tickets/${ticket.id}/status`, {
          method: 'PATCH',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ status: 'accepted' })
        });
        await new Promise(resolve => setTimeout(resolve, 100));
        
        await fetch(`/api/tickets/${ticket.id}/status`, {
          method: 'PATCH',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ status: 'resolved' })
        });
        
        console.log(`âœ… "${ticket.title}": pending â†’ accepted â†’ resolved`);
      } else {
        await fetch(`/api/tickets/${ticket.id}/status`, {
          method: 'PATCH',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ status: newStatus })
        });
        
        console.log(`âœ… "${ticket.title}": pending â†’ ${newStatus}`);
      }
      
      changed++;
      await new Promise(resolve => setTimeout(resolve, 200));
      
    } catch (error) {
      console.error(`âŒ Failed to change "${ticket.title}":`, error.message);
    }
  }

  console.log(`\nâœ… Changed ${changed} ticket statuses`);
  console.log('ğŸ”„ Refreshing page...');
  setTimeout(() => window.location.reload(), 1000);
}

// à¹€à¸£à¸µà¸¢à¸à¹ƒà¸Šà¹‰
changeTicketStatuses();